{"ast":null,"code":"import _slicedToArray from\"/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'@reach/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetList=function PetList(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pets=_useState2[0],setPets=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),deleteClicked=_useState4[0],setDeleteClicked=_useState4[1];useEffect(function(){axios.get('http://localhost:8000/api/pets').then(function(response){console.log(response);setPets(response.data.Pets);}).catch(function(err){return console.log(err);});},[deleteClicked]);var deleteHandler=function deleteHandler(e,petId){axios.delete(\"http://localhost:8000/api/pets/\".concat(petId,\"/delete\")).then(function(response){console.log(\"Response: \",response);setDeleteClicked(!deleteClicked);}).catch(function(err){return console.log(\"Error: \",err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/pet/new\",className:\"btn btn-outline-primary float-end\",children:\"Add a pet to the shelter\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Pet Shelter\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-3\",children:\"These pets are looking for a good home\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped border mt-3\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pets.filter(function(pet){return pet.type;}).map(function(pet,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:pet.name}),/*#__PURE__*/_jsx(\"td\",{children:pet.type}),/*#__PURE__*/_jsx(\"td\",{children:pet.desc}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/pet/\".concat(pet._id),className:\"text-decoration-none\",children:\"Details\"}),/*#__PURE__*/_jsx(Link,{to:\"/pet/\".concat(pet._id,\"/update\"),className:\"text-decoration-none m-3\",children:\"Edit\"}),/*#__PURE__*/_jsx(Link,{onClick:function onClick(e){return deleteHandler(e,pet._id);},to:\"\",className:\"text-danger text-decoration-none m-3\",children:\"Remove\"})]})]},index);})})]})]});};export default PetList;","map":{"version":3,"sources":["/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/src/components/PetList.js"],"names":["React","useState","useEffect","axios","Link","PetList","props","pets","setPets","deleteClicked","setDeleteClicked","get","then","response","console","log","data","Pets","catch","err","deleteHandler","e","petId","delete","filter","pet","type","map","index","name","desc","_id"],"mappings":"2LAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,KAAmB,eAAnB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAC,KAAK,CAAG,CACpB,cAAwBL,QAAQ,CAAC,EAAD,CAAhC,wCAAOM,IAAP,eAAaC,OAAb,eACA,eAA0CP,QAAQ,CAAC,KAAD,CAAlD,yCAAOQ,aAAP,eAAsBC,gBAAtB,eACAR,SAAS,CAAC,UAAI,CACVC,KAAK,CAACQ,GAAN,CAAU,gCAAV,EACKC,IADL,CACU,SAAAC,QAAQ,CAAE,CACZC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAL,OAAO,CAACK,QAAQ,CAACG,IAAT,CAAcC,IAAf,CAAP,CACH,CAJL,EAKKC,KALL,CAKW,SAAAC,GAAG,QAAEL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAF,EALd,EAMH,CAPQ,CAOP,CAACV,aAAD,CAPO,CAAT,CAQA,GAAMW,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAIC,KAAJ,CAAY,CAC9BnB,KAAK,CAACoB,MAAN,0CAA+CD,KAA/C,aACKV,IADL,CACU,SAAAC,QAAQ,CAAE,CACZC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,QAA1B,EACAH,gBAAgB,CAAC,CAACD,aAAF,CAAhB,CACH,CAJL,EAKKS,KALL,CAKW,SAAAC,GAAG,QAAEL,CAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBI,GAAvB,CAAF,EALd,EAMH,CAPD,CAQA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,CAAoB,SAAS,CAAC,mCAA9B,sCADJ,cAEI,WAAI,SAAS,CAAC,aAAd,yBAFJ,cAGI,WAAI,SAAS,CAAC,MAAd,oDAHJ,cAII,eAAO,SAAS,CAAC,iCAAjB,wBACA,oCACI,mCACI,WAAI,KAAK,CAAC,KAAV,kBADJ,cAEI,WAAI,KAAK,CAAC,KAAV,kBAFJ,cAGI,WAAI,KAAK,CAAC,KAAV,yBAHJ,cAII,WAAI,KAAK,CAAC,KAAV,qBAJJ,GADJ,EADA,cASI,uBACKZ,IAAI,CAACiB,MAAL,CAAY,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAR,EAAf,EAA6BC,GAA7B,CAAiC,SAACF,GAAD,CAAMG,KAAN,CAAc,CAC5C,mBAAO,mCACH,oBAAKH,GAAG,CAACI,IAAT,EADG,cAEH,oBAAKJ,GAAG,CAACC,IAAT,EAFG,cAGH,oBAAKD,GAAG,CAACK,IAAT,EAHG,cAIH,mCACI,KAAC,IAAD,EAAM,EAAE,gBAAUL,GAAG,CAACM,GAAd,CAAR,CAA6B,SAAS,CAAC,sBAAvC,qBADJ,cAEI,KAAC,IAAD,EAAM,EAAE,gBAAUN,GAAG,CAACM,GAAd,WAAR,CAAoC,SAAS,CAAC,0BAA9C,kBAFJ,cAGI,KAAC,IAAD,EAAM,OAAO,CAAE,iBAACV,CAAD,QAAKD,CAAAA,aAAa,CAACC,CAAD,CAAII,GAAG,CAACM,GAAR,CAAlB,EAAf,CAA+C,EAAE,CAAC,EAAlD,CAAqD,SAAS,CAAC,sCAA/D,oBAHJ,GAJG,GAASH,KAAT,CAAP,CAUH,CAXA,CADL,EATJ,GAJJ,GADJ,CA+BH,CAlDD,CAmDA,cAAevB,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {Link} from '@reach/router';\n\nconst PetList = props =>{\n    const [pets, setPets] = useState([]);\n    const [deleteClicked, setDeleteClicked] = useState(false)\n    useEffect(()=>{\n        axios.get('http://localhost:8000/api/pets')\n            .then(response=>{\n                console.log(response)\n                setPets(response.data.Pets)\n            })\n            .catch(err=>console.log(err))\n    },[deleteClicked])\n    const deleteHandler = (e, petId)=>{\n        axios.delete(`http://localhost:8000/api/pets/${petId}/delete`)\n            .then(response=>{\n                console.log(\"Response: \", response)\n                setDeleteClicked(!deleteClicked)\n            })\n            .catch(err=>console.log(\"Error: \", err))\n    }\n    return(\n        <div className=\"container mt-3\">\n            <Link to=\"/pet/new\" className=\"btn btn-outline-primary float-end\">Add a pet to the shelter</Link>\n            <h1 className=\"text-center\">Pet Shelter</h1>\n            <h4 className=\"mt-3\">These pets are looking for a good home</h4>\n            <table className=\"table table-striped border mt-3\">\n            <thead>\n                <tr>\n                    <th scope=\"col\">Name</th>\n                    <th scope=\"col\">Type</th>\n                    <th scope=\"col\">Description</th>\n                    <th scope=\"col\">Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                    {pets.filter(pet => pet.type).map((pet, index)=>{\n                        return <tr key={index}>\n                            <td>{pet.name}</td>\n                            <td>{pet.type}</td>\n                            <td>{pet.desc}</td>\n                            <td>\n                                <Link to={`/pet/${pet._id}`} className=\"text-decoration-none\">Details</Link>\n                                <Link to={`/pet/${pet._id}/update`} className=\"text-decoration-none m-3\">Edit</Link>\n                                <Link onClick={(e)=>deleteHandler(e, pet._id)} to=\"\" className=\"text-danger text-decoration-none m-3\">Remove</Link>\n                            </td>\n                        </tr>\n                    })}\n                </tbody>\n            </table>\n        </div>\n    )\n}\nexport default PetList;"]},"metadata":{},"sourceType":"module"}