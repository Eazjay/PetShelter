{"ast":null,"code":"import _defineProperty from\"/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link,navigate}from'@reach/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatePet=function UpdatePet(props){var _useState=useState({name:\"\",type:\"\",desc:\"\",skill1:\"\",skill2:\"\",skill3:\"\"}),_useState2=_slicedToArray(_useState,2),petInfo=_useState2[0],setPetInfo=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(props.id)).then(function(response){console.log(response);if(response.data.Pet){setPetInfo(response.data.Pet);}else{console.log(\"This Pet does not exist\");navigate(\"/pet/new\");}}).catch(function(err){return console.log(err);});},[props.id]);var updateHandler=function updateHandler(e){e.preventDefault();axios.put(\"http://localhost:8000/api/pets/\".concat(props.id,\"/update\"),petInfo).then(function(response){console.log(response);if(response.data.Pet){navigate('/');}else{setErrors(response.data.errors);}}).catch(function(err){return console.log(err);});};var changeHandler=function changeHandler(e){setPetInfo(_objectSpread(_objectSpread({},petInfo),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-decoration-none float-end\",children:\"Home\"}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"Edit \",petInfo.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateHandler,className:\"w-50 mx-auto mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Pet Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"name\",value:petInfo.name,className:\"form-control\"}),errors.name?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.name.message}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"mt-3\",children:\"Pet Type:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"type\",value:petInfo.type,className:\"form-control\"}),errors.type?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.type.message}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"mt-3\",children:\"Pet Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"desc\",value:petInfo.desc,className:\"form-control\"}),errors.desc?/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errors.desc.message}):\"\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"mt-3\",children:\"Skill 1:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"skill1\",value:petInfo.skill1,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"mt-3\",children:\"Skill 2:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"skill2\",value:petInfo.skill2,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",className:\"mt-3\",children:\"Skill 3:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:changeHandler,name:\"skill3\",value:petInfo.skill3,className:\"form-control\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary m-3\",value:\"Update Pet\"})]})]});};export default UpdatePet;","map":{"version":3,"sources":["/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/src/components/UpdatePet.js"],"names":["React","useEffect","useState","axios","Link","navigate","UpdatePet","props","name","type","desc","skill1","skill2","skill3","petInfo","setPetInfo","errors","setErrors","get","id","then","response","console","log","data","Pet","catch","err","updateHandler","e","preventDefault","put","changeHandler","target","value","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from 'axios'\nimport {Link, navigate} from '@reach/router';\n\nconst UpdatePet = props =>{\n    const [petInfo, setPetInfo] = useState({\n        name: \"\",\n        type: \"\",\n        desc: \"\",\n        skill1: \"\",\n        skill2: \"\",\n        skill3: \"\"\n    })\n    const [errors, setErrors] = useState({})\n    useEffect(()=>{\n        axios.get(`http://localhost:8000/api/pets/${props.id}`)\n        .then(response=>{\n            console.log(response)\n            if(response.data.Pet){\n                setPetInfo(response.data.Pet)\n            }\n            else{\n                console.log(\"This Pet does not exist\")\n                navigate(\"/pet/new\")\n            }\n        })\n        .catch(err=>console.log(err))\n    },[props.id])\n    const updateHandler = (e)=>{\n        e.preventDefault();\n        axios.put(`http://localhost:8000/api/pets/${props.id}/update`, petInfo)\n            .then(response=>{\n                console.log(response)\n                if(response.data.Pet){\n                    navigate('/')\n                }\n                else{\n                    setErrors(response.data.errors)\n                }\n            })\n            .catch(err=>console.log(err))\n    }\n    const changeHandler = (e)=>{\n        setPetInfo({\n            ...petInfo,\n            [e.target.name]: e.target.value\n        })\n    }\n    return(\n        <div className=\"container mt-5\">\n            <Link to=\"/\" className=\"text-decoration-none float-end\">Home</Link>\n            <h1 className=\"text-center\">Edit {petInfo.name}</h1>\n            <form onSubmit={updateHandler} className=\"w-50 mx-auto mt-3\">\n                <div>\n                    <label htmlFor=\"\">Pet Name:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"name\" value={petInfo.name} className=\"form-control\"/>\n                    {errors.name? <p className=\"text-danger\">{errors.name.message}</p>: \"\"}\n                </div>\n                <div>\n                    <label htmlFor=\"\" className=\"mt-3\">Pet Type:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"type\" value={petInfo.type} className=\"form-control\"/>\n                    {errors.type? <p className=\"text-danger\">{errors.type.message}</p>: \"\"}\n                </div>\n                <div>\n                    <label htmlFor=\"\" className=\"mt-3\">Pet Description:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"desc\" value={petInfo.desc} className=\"form-control\"/>\n                    {errors.desc? <p className=\"text-danger\">{errors.desc.message}</p>: \"\"}\n                </div>\n                <div>\n                    <label htmlFor=\"\" className=\"mt-3\">Skill 1:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"skill1\" value={petInfo.skill1} className=\"form-control\"/>\n                </div>\n                <div>\n                    <label htmlFor=\"\" className=\"mt-3\">Skill 2:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"skill2\" value={petInfo.skill2} className=\"form-control\"/>\n                </div>\n                <div>\n                    <label htmlFor=\"\" className=\"mt-3\">Skill 3:</label>\n                    <input type=\"text\" onChange={changeHandler} name=\"skill3\" value={petInfo.skill3} className=\"form-control\"/>\n                </div>\n                <Link to=\"/\" className=\"btn btn-primary\">Cancel</Link>\n                <input type=\"submit\" className=\"btn btn-primary m-3\" value=\"Update Pet\"/>\n            </form>\n        </div>\n    )\n}\nexport default UpdatePet;"]},"metadata":{},"sourceType":"module"}