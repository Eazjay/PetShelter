{"ast":null,"code":"import _slicedToArray from\"/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link,navigate}from'@reach/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PetDetail=function PetDetail(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),pet=_useState2[0],setPet=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),liked=_useState4[0],setLiked=_useState4[1];useEffect(function(){axios.get(\"http://localhost:8000/api/pets/\".concat(props.id)).then(function(response){console.log(response);setPet(response.data.Pet);}).catch(function(err){return console.log(err);});},[props.id],[liked]);var adoptHandler=function adoptHandler(){axios.delete(\"http://localhost:8000/api/pets/\".concat(props.id,\"/delete\")).then(function(response){console.log(\"Response: \",response);navigate('/');}).catch(function(err){return console.log(\"Error: \",err);});};var grantLikes=function grantLikes(e,pet){setLiked(liked+1);pet.likes+=1;axios.put(\"http://localhost:8000/api/pets/\".concat(pet._id,\"/update\")).then(function(response){console.log(response);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-decoration-none float-end\",children:\"Back to home\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Details about: \",pet.name,\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:adoptHandler,className:\"btn btn-danger m-5\",children:[\"Adopt \",pet.name]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Pet Type: \"}),pet.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Description: \"}),pet.desc]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Skills: \"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list-style-type-none\",children:[/*#__PURE__*/_jsx(\"li\",{children:pet.skill1}),/*#__PURE__*/_jsx(\"li\",{children:pet.skill2}),/*#__PURE__*/_jsx(\"li\",{children:pet.skill3})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(e){return grantLikes(e,pet);},className:\"btn btn-success btn-sm\",children:[\"Like \",pet.name]}),\" \",pet.likes,\" like(s)\"]})]});};export default PetDetail;","map":{"version":3,"sources":["/Users/mymac/Desktop/CodingDojo/MERN Projects/EXAM/PetShelter/client/src/components/PetDetail.js"],"names":["React","useEffect","useState","axios","Link","navigate","PetDetail","props","pet","setPet","liked","setLiked","get","id","then","response","console","log","data","Pet","catch","err","adoptHandler","delete","grantLikes","e","likes","put","_id","name","type","desc","skill1","skill2","skill3"],"mappings":"2LAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,QAAd,KAA6B,eAA7B,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,CACvB,cAAsBL,QAAQ,CAAC,EAAD,CAA9B,wCAAOM,GAAP,eAAYC,MAAZ,eACA,eAA0BP,QAAQ,CAAC,CAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACAV,SAAS,CAAC,UAAM,CACZE,KAAK,CAACS,GAAN,0CAA4CL,KAAK,CAACM,EAAlD,GACKC,IADL,CACU,SAAAC,QAAQ,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAN,MAAM,CAACM,QAAQ,CAACG,IAAT,CAAcC,GAAf,CAAN,CACH,CAJL,EAKKC,KALL,CAKW,SAAAC,GAAG,QAAGL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAH,EALd,EAMH,CAPQ,CAOP,CAACd,KAAK,CAACM,EAAP,CAPO,CAOK,CAACH,KAAD,CAPL,CAAT,CAQA,GAAMY,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAI,CACrBnB,KAAK,CAACoB,MAAN,0CAA+ChB,KAAK,CAACM,EAArD,aACKC,IADL,CACU,SAAAC,QAAQ,CAAE,CACZC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,QAA1B,EACAV,QAAQ,CAAC,GAAD,CAAR,CACH,CAJL,EAKKe,KALL,CAKW,SAAAC,GAAG,QAAEL,CAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBI,GAAvB,CAAF,EALd,EAMH,CAPD,CAQA,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAIjB,GAAJ,CAAU,CACzBG,QAAQ,CAACD,KAAK,CAAC,CAAP,CAAR,CACAF,GAAG,CAACkB,KAAJ,EAAa,CAAb,CACAvB,KAAK,CAACwB,GAAN,0CAA4CnB,GAAG,CAACoB,GAAhD,aACKd,IADL,CACU,SAAAC,QAAQ,CAAE,CACZC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACH,CAHL,EAIKK,KAJL,CAIW,SAAAC,GAAG,QAAEL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAF,EAJd,EAKH,CARD,CASA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,gCAAvB,0BADJ,cAEI,aAAK,SAAS,CAAC,MAAf,wBACI,wCAAoBb,GAAG,CAACqB,IAAxB,kBAA8B,gBAAQ,OAAO,CAAEP,YAAjB,CAA+B,SAAS,CAAC,oBAAzC,oBAAqEd,GAAG,CAACqB,IAAzE,GAA9B,GADJ,cAEI,kCAAG,iCAAH,CAAqBrB,GAAG,CAACsB,IAAzB,GAFJ,cAGI,kCAAG,oCAAH,CAAwBtB,GAAG,CAACuB,IAA5B,GAHJ,cAII,kCAAG,+BAAH,cACI,YAAI,SAAS,CAAC,sBAAd,wBACI,oBAAKvB,GAAG,CAACwB,MAAT,EADJ,cAEI,oBAAKxB,GAAG,CAACyB,MAAT,EAFJ,cAGI,oBAAKzB,GAAG,CAAC0B,MAAT,EAHJ,GADJ,GAJJ,GAFJ,cAcI,WAAG,SAAS,CAAC,MAAb,wBAAoB,gBAAQ,OAAO,CAAE,iBAACT,CAAD,QAAKD,CAAAA,UAAU,CAACC,CAAD,CAAIjB,GAAJ,CAAf,EAAjB,CAA0C,SAAS,CAAC,wBAApD,mBAAmFA,GAAG,CAACqB,IAAvF,GAApB,KAA2HrB,GAAG,CAACkB,KAA/H,cAdJ,GADJ,CAkBH,CA9CD,CA+CA,cAAepB,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport {Link, navigate} from '@reach/router';\n\nconst PetDetail = props => {\n    const [pet, setPet] = useState({})\n    const [liked, setLiked] = useState(0)\n    useEffect(() => {\n        axios.get(`http://localhost:8000/api/pets/${props.id}`)\n            .then(response => {\n                console.log(response)\n                setPet(response.data.Pet)\n            })\n            .catch(err=> console.log(err))\n    },[props.id], [liked])\n    const adoptHandler = ()=>{\n        axios.delete(`http://localhost:8000/api/pets/${props.id}/delete`)\n            .then(response=>{\n                console.log(\"Response: \", response)\n                navigate('/')\n            })\n            .catch(err=>console.log(\"Error: \", err))\n    }\n    const grantLikes = (e, pet)=>{\n        setLiked(liked+1)\n        pet.likes += 1;\n        axios.put(`http://localhost:8000/api/pets/${pet._id}/update`)\n            .then(response=>{\n                console.log(response);\n            })\n            .catch(err=>console.log(err))\n    }\n    return (\n        <div className=\"container mt-5\">\n            <Link to=\"/\" className=\"text-decoration-none float-end\">Back to home</Link>\n            <div className=\"mt-3\">\n                <h4>Details about: {pet.name} <button onClick={adoptHandler} className=\"btn btn-danger m-5\">Adopt {pet.name}</button></h4>\n                <p><b>Pet Type: </b>{pet.type}</p>\n                <p><b>Description: </b>{pet.desc}</p>\n                <p><b>Skills: </b>\n                    <ul className=\"list-style-type-none\">\n                        <li>{pet.skill1}</li>\n                        <li>{pet.skill2}</li>\n                        <li>{pet.skill3}</li>\n                    </ul>\n                </p>\n            </div>\n            <p className=\"mt-3\"><button onClick={(e)=>grantLikes(e, pet)} className=\"btn btn-success btn-sm\">Like {pet.name}</button> {pet.likes} like(s)</p>\n        </div>\n    )\n}\nexport default PetDetail;\n\n"]},"metadata":{},"sourceType":"module"}